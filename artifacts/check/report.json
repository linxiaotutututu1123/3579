{
  "schema_version": 3,
  "type": "ci",
  "overall": "FAIL",
  "exit_code": 4,
  "check_mode": true,
  "timestamp": "2025-12-15T01:15:27.444803+00:00",
  "run_id": "fb31669e-3222-4d2c-9249-a70054f77967",
  "exec_id": "b768fa91_20251215011527",
  "artifacts": {
    "report_path": "artifacts\\check\\report.json",
    "context_path": "artifacts\\context\\context.md"
  },
  "context_manifest_sha": "6822da57c0e4bef6ff2d2f575aa2c9cdb4ec9353f2d65605ec244110773dc295",
  "all_passed": false,
  "failed_step": "test",
  "steps": [
    {
      "name": "format-check",
      "status": "PASS",
      "exit_code": 0,
      "duration_ms": 56
    },
    {
      "name": "lint",
      "status": "PASS",
      "exit_code": 0,
      "duration_ms": 56
    },
    {
      "name": "type",
      "status": "PASS",
      "exit_code": 0,
      "duration_ms": 19635
    },
    {
      "name": "test",
      "status": "FAIL",
      "exit_code": 4,
      "duration_ms": 4179,
      "summary": "........................................................................ [ 22%]\n........................................................................ [ 45%]\n........................................................................ [ 68%]\n........................................................................ [ 91%]\n..........................\nERROR: Coverage failure: total of 79 is less than fail-under=85\n                                                                         [100%]\n=============================== tests coverage ================================\n______________ coverage: platform win32, python 3.12.10-final-0 _______________\n\nName                                         Stmts   Miss Branch BrPart  Cover   Missing\n----------------------------------------------------------------------------------------\nsrc\\config.py                                   26      1      2      1    93%   33\nsrc\\execution\\broker_factory.py                 22      1      8      1    93%   79\nsrc\\execution\\ctp_broker.py                     88      9     18      3    89%   105, 130->exit, 159-165, 194, 223-224\nsrc\\execution\\flatten_executor.py               73      4     22      5    91%   39, 41, 43, 45, 116->123\nsrc\\execution\\flatten_plan.py                   57      0     22      1    99%   72->74\nsrc\\portfolio\\rebalancer.py                     34      0     20      1    98%   128->30\nsrc\\replay\\runner.py                            56      1     10      1    97%   132\nsrc\\risk\\manager.py                             85      2     22      3    95%   23->exit, 84, 195\nsrc\\risk\\state.py                               37      1      4      1    95%   32\nsrc\\runner.py                                   60      4      4      2    91%   56, 60, 104->108, 147-148\nsrc\\strategy\\dl\\features.py                     36      0     16      4    92%   40->39, 45->49, 50->54, 56->55\nsrc\\strategy\\dl\\policy.py                       13      0      2      1    93%   32->35\nsrc\\strategy\\ensemble_moe.py                   101      6     22      7    89%   101, 119, 178, 182, 188, 191->190, 194\nsrc\\strategy\\linear_ai.py                       81      3     28      4    94%   107->105, 114, 124, 138\nsrc\\strategy\\top_tier_trend_risk_parity.py      92      3     22      3    95%   100, 109, 113\nsrc\\trading\\ci_gate.py                         446    204    128      7    46%   227->exit, 269-287, 299-300, 306, 311, 324-327, 379, 381, 402-403, 438->440, 440->442, 442->445, 446->exit, 516-534, 539-558, 563-575, 624-645, 666-719, 746-829, 878, 893-894, 899, 908-909, 913, 922, 926-929, 946-1021, 1036-1072, 1084-1098, 1124-1125, 1130, 1135-1138, 1143, 1148-1151, 1155, 1159, 1173, 1177-1180\nsrc\\trading\\live_guard.py                       54      0      8      1    98%   137->exit\nsrc\\trading\\orchestrator.py                     53      5      8      2    89%   100, 146-163\nsrc\\trading\\replay.py                           87     50     26      1    44%   56-86, 118->100, 135-241\nsrc\\trading\\serial_exec.py                      26      0      6      1    97%   66->71\nsrc\\trading\\sim.py                              87     50     26      1    44%   56-86, 117->100, 134-239\nsrc\\trading\\sim_gate.py                        188     57     44      4    60%   115-116, 167->169, 169->171, 171->174, 175->exit, 269-270, 349, 361, 397-402, 422-430, 447-485, 510-526, 531-547\n----------------------------------------------------------------------------------------\nTOTAL                                         2388    401    558     55    79%\n\n34 files skipped due to complete coverage.\nFAIL Required test coverage of 85% not reached. Total coverage: 79.29%",
      "hints": [
        "Add tests for uncovered code paths",
        "Current threshold: 85% - check coverage report for gaps"
      ]
    }
  ]
}