# =============================================================================
# ğŸ“¦ é¡¹ç›®å…ƒä¿¡æ¯
# =============================================================================
[project]
name = "cn-futures-auto-trader"
version = "0.4.0"
requires-python = ">=3.11"
description = "ä¸­å›½æœŸè´§è‡ªåŠ¨äº¤æ˜“ç³»ç»Ÿ - ä¸»å¸­çº§å…¨æ¨¡å—é«˜è§„æ ¼"
readme = "README.md"
license = { text = "MIT" }

# =============================================================================
# ğŸ”§ Ruff - ä¸»å¸­çº§é™æ€åˆ†æï¼ˆAI/æµ‹è¯•/å®¡è®¡å…¨é«˜è§„æ ¼ï¼‰
# =============================================================================
[tool.ruff]
line-length = 120
target-version = "py311"
fix = true
unsafe-fixes = false
show-fixes = true
cache-dir = ".cache/ruff"

extend-exclude = [
    ".git",
    ".venv",
    "__pycache__",
    "build",
    "dist",
]

[tool.ruff.lint]
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ä¸»å¸­çº§è§„åˆ™é›† - å…¨é¢è¦†ç›–
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
select = [
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # ğŸ”´ æ ¸å¿ƒé”™è¯¯æ£€æµ‹
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    "F",        # Pyflakes - æœªå®šä¹‰å˜é‡ã€æœªä½¿ç”¨å¯¼å…¥
    "E",        # pycodestyle errors
    "W",        # pycodestyle warnings
    "PLE",      # pylint-error - é€»è¾‘é”™è¯¯
    "B",        # flake8-bugbear - çœŸæ­£çš„bug
    
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # ğŸ”´ å®‰å…¨ä¸å¯é æ€§
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    "S",        # flake8-bandit - å®‰å…¨æ¼æ´
    "ASYNC",    # å¼‚æ­¥å®‰å…¨
    "BLE",      # blind-except
    
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # ğŸ”´ ç±»å‹ä¸æ–‡æ¡£ï¼ˆå…¨æ¨¡å—å¼ºåˆ¶ï¼‰
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    "ANN",      # ç±»å‹æ³¨è§£
    "D",        # æ–‡æ¡£å­—ç¬¦ä¸²
    
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # ğŸŸ  ä»£ç è´¨é‡
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    "C90",      # åœˆå¤æ‚åº¦
    "N",        # å‘½åè§„èŒƒ
    "UP",       # ç°ä»£è¯­æ³•
    "SIM",      # ç®€åŒ–
    "RET",      # returnè§„èŒƒ
    "PLW",      # pylint-warning
    "PLR",      # pylint-refactor
    "PLC",      # pylint-convention
    
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # ğŸŸ  æ—¥å¿—ä¸å®¡è®¡ï¼ˆä¸»å¸­ç‰¹åˆ«è¦æ±‚ï¼‰
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    "LOG",      # æ—¥å¿—è§„èŒƒ
    "G",        # æ—¥å¿—æ ¼å¼
    "TRY",      # å¼‚å¸¸å¤„ç†
    "EM",       # é”™è¯¯æ¶ˆæ¯
    
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # ğŸŸ  æµ‹è¯•è§„èŒƒï¼ˆä¸»å¸­ç‰¹åˆ«è¦æ±‚ï¼‰
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    "PT",       # pytesté£æ ¼
    "ARG",      # æœªä½¿ç”¨å‚æ•°
    
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # ğŸŸ¡ ä»£ç æ•´æ´
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    "I",        # isort
    "PIE",      # æ‚é¡¹
    "PTH",      # pathlib
    "PERF",     # æ€§èƒ½
    "T10",      # debugger
    "RUF",      # ruffä¸“æœ‰
    "ICN",      # å¯¼å…¥çº¦å®š
    "TID",      # å¯¼å…¥æ•´æ´
    "TCH",      # TYPE_CHECKING
    "FA",       # future-annotations
    "SLOT",     # __slots__
    "C4",       # comprehensions
    "ISC",      # å­—ç¬¦ä¸²æ‹¼æ¥
    "RSE",      # raiseè§„èŒƒ
    "FLY",      # f-string
    "FURB",     # ç°ä»£åŒ–
    
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # ğŸŸ¡ ç§‘å­¦è®¡ç®—ï¼ˆAIæ¨¡å—éœ€è¦ï¼‰
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    "NPY",      # numpyè§„èŒƒ
]

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# å…¨å±€å¿½ç•¥ - ä»…é™æŠ€æœ¯ç¡¬çº¦æŸ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ignore = [
    # CTPæ¥å£ï¼ˆå¤–éƒ¨çº¦æŸï¼‰
    "PLR0913",  # å¤šå‚æ•° | CTPå›è°ƒç­¾å
    "ANN101",   # self
    "ANN102",   # cls
    
    # ä¸­å›½æœŸè´§å¸‚åœºï¼ˆä¸šåŠ¡è§„åˆ™ï¼‰
    "DTZ005",   # datetime.now() | ç»Ÿä¸€æœ¬åœ°æ—¶é—´
    "DTZ006",   # fromtimestamp
    "DTZ011",   # date.today()
    
    # ä¸­æ–‡æ”¯æŒ
    "RUF001", "RUF002", "RUF003",
    
    # æ–‡æ¡£é£æ ¼å†²çªäºŒé€‰ä¸€
    "D203", "D213",
    
    # FastAPIæ¡†æ¶
    "B008",
    
    # å¼‚å¸¸æ¶ˆæ¯ï¼ˆä¸­æ–‡éœ€è¦è¯¦ç»†ï¼‰
    "TRY003",   # å…è®¸é•¿å¼‚å¸¸æ¶ˆæ¯
    "EM101",    # å…è®¸å­—ç¬¦ä¸²å­—é¢é‡
    "EM102",    # å…è®¸f-string
]

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# åˆ†å±‚é…ç½® - ä¸»å¸­çº§å…¨é«˜è§„æ ¼
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[tool.ruff.lint.per-file-ignores]
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ğŸ”´ çº¢è‰²è­¦æˆ’åŒº - é›¶å¦¥å
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
"src/trading/**/*.py" = []
"src/execution/**/*.py" = []
"src/risk/**/*.py" = []
"src/order/**/*.py" = []
"src/position/**/*.py" = []
"src/account/**/*.py" = []
"src/broker/**/*.py" = []
"src/gateway/**/*.py" = []

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ğŸ”´ å®¡è®¡æ—¥å¿— - é›¶å¦¥åï¼ˆä¸»å¸­ç‰¹åˆ«è¦æ±‚ï¼‰
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
"src/audit/**/*.py" = []
"src/logging/**/*.py" = []

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ğŸ”´ AIæ ¸å¿ƒ - æœ€é«˜æ ‡å‡†ï¼ˆå…¨ä¸­å›½æœ€å¼ºAIï¼‰
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
"src/ai/**/*.py" = [
    # AIæ¨¡å—ä»…æ”¾å®½numpyç›¸å…³çš„æ³›å‹æ£€æŸ¥
    "ANN401",   # å…è®¸Anyï¼ˆnumpy/torchè¿”å›ç±»å‹ï¼‰
]
"src/ml/**/*.py" = [
    "ANN401",
]
"src/signal/**/*.py" = []
"src/model/**/*.py" = [
    "ANN401",
]
"src/feature/**/*.py" = [
    "ANN401",
]
"src/prediction/**/*.py" = [
    "ANN401",
]

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ğŸŸ  ç­–ç•¥è®¡ç®— - ä¸¥æ ¼
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
"src/strategy/**/*.py" = []
"src/backtesting/**/*.py" = []
"src/data/**/*.py" = []
"src/market/**/*.py" = []
"src/optimization/**/*.py" = [
    "ANN401",
]

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ğŸŸ  åˆ†ææ¨¡å— - ä¸¥æ ¼
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
"src/analytics/**/*.py" = [
    "ANN401",
]
"src/portfolio/**/*.py" = []
"src/performance/**/*.py" = []

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ğŸŸ¡ é…ç½®å·¥å…· - æ ‡å‡†
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
"src/config/**/*.py" = []
"src/common/**/*.py" = []
"src/utils/**/*.py" = [
    "ANN401",   # å·¥å…·å‡½æ•°å¯èƒ½å¤„ç†å¤šç§ç±»å‹
]
"src/app/**/*.py" = []

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ğŸŸ¡ å¯è§†åŒ– - æ ‡å‡†ï¼ˆä»éœ€æ–‡æ¡£å’Œç±»å‹ï¼‰
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
"src/visualization/**/*.py" = [
    "ANN401",
    "PLR0915",  # ç»‘å›¾é€»è¾‘å¯èƒ½è¾ƒé•¿
]

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ğŸ”´ æµ‹è¯•ä»£ç  - é«˜è§„æ ¼ï¼ˆä¸»å¸­ç‰¹åˆ«è¦æ±‚ï¼‰
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
"tests/**/*.py" = [
    "S101",     # assertæ˜¯æµ‹è¯•æ ¸å¿ƒ
    "PLR2004",  # æµ‹è¯•æ•°æ®å…è®¸é­”æ³•æ•°å­—
    "ANN401",   # mockå¯¹è±¡
    "D100",     # æµ‹è¯•æ¨¡å—docstringå¯é€‰
    "D104",     # æµ‹è¯•åŒ…docstringå¯é€‰
    "ARG001",   # fixtures
    "ARG002",
    "SLF001",   # ç™½ç›’æµ‹è¯•éœ€è¦è®¿é—®ç§æœ‰
]
# æ³¨æ„ï¼šæµ‹è¯•ä»éœ€è¦ D103ï¼ˆå‡½æ•°docstringï¼‰ã€ç±»å‹æ³¨è§£ç­‰

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# âšª è„šæœ¬/CLI - åˆç†æ”¾å®½
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
"scripts/**/*.py" = [
    "T201",     # print
    "D",        # docstring
    "ANN",      # ç±»å‹æ³¨è§£
    "INP001",
    "S603", "S607",
]
"src/**/cli/**/*.py" = [
    "T201",
    "D103",     # CLIå‡½æ•°docstringå¯é€‰
]
"conftest.py" = [
    "D", "ANN", "ARG", "INP001",
]
"src/app/*_entry.py" = [
    "D100", "D103",
]

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# è§„åˆ™è¯¦ç»†é…ç½®
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[tool.ruff.lint.mccabe]
max-complexity = 10

[tool.ruff.lint.pylint]
max-args = 8
max-branches = 12
max-returns = 6
max-statements = 50
max-locals = 15
max-bool-expr = 5
max-nested-blocks = 4
max-public-methods = 20

[tool.ruff.lint.pydocstyle]
convention = "google"

[tool.ruff.lint.flake8-annotations]
allow-star-arg-any = false
mypy-init-return = true
suppress-none-returning = false

[tool.ruff.lint.flake8-bugbear]
extend-immutable-calls = [
    "fastapi.Depends",
    "fastapi.Query",
    "fastapi.Path",
    "fastapi.Body",
    "fastapi.Header",
]

[tool.ruff.lint.flake8-errmsg]
max-string-length = 100

[tool.ruff.lint.flake8-pytest-style]
fixture-parentheses = true
parametrize-names-type = "tuple"
parametrize-values-type = "list"
raises-require-match-for = [
    "ValueError",
    "TypeError",
    "RuntimeError",
    "KeyError",
    "AttributeError",
    "AssertionError",
]

[tool.ruff.lint.flake8-type-checking]
strict = true
exempt-modules = ["typing", "typing_extensions"]

[tool.ruff.lint.isort]
known-first-party = ["src"]
known-third-party = ["fastapi", "pydantic", "numpy", "pandas", "torch", "sklearn", "pytest"]
force-single-line = false
lines-after-imports = 2
section-order = ["future", "standard-library", "third-party", "first-party", "local-folder"]

[tool.ruff.lint.flake8-import-conventions.aliases]
numpy = "np"
pandas = "pd"
torch = "torch"
tensorflow = "tf"
matplotlib = "mpl"
"matplotlib.pyplot" = "plt"
seaborn = "sns"

[tool.ruff.format]
quote-style = "double"
indent-style = "space"
line-ending = "auto"
docstring-code-format = true
docstring-code-line-length = 88

# =============================================================================
# ğŸ” MyPy - ä¸»å¸­çº§ç±»å‹æ£€æŸ¥ï¼ˆAI/æµ‹è¯•/å®¡è®¡å…¨ä¸¥æ ¼ï¼‰
# =============================================================================
[tool.mypy]
python_version = "3.11"
pretty = true
show_error_codes = true
show_error_context = true
show_column_numbers = true
color_output = true

# åŸºç¡€ä¸¥æ ¼æ¨¡å¼
strict = true

# å‡½æ•°å®šä¹‰æ£€æŸ¥
disallow_untyped_defs = true
disallow_untyped_calls = true
disallow_incomplete_defs = true
disallow_untyped_decorators = true
check_untyped_defs = true

# å¯é€‰æ€§æ£€æŸ¥
no_implicit_optional = true
strict_optional = true

# å…¶ä»–ä¸¥æ ¼æ£€æŸ¥
no_implicit_reexport = true
strict_equality = true
strict_concatenate = true

# è­¦å‘Š
warn_return_any = true
warn_unused_ignores = true
warn_unused_configs = true
warn_redundant_casts = true
warn_unreachable = true
warn_no_return = true

# Anyé™åˆ¶ï¼ˆå…¨å±€åŸºçº¿ï¼Œå„åŒºåŸŸå•ç‹¬åŠ å¼ºï¼‰
disallow_any_generics = true
disallow_subclassing_any = true
disallow_any_unimported = false  # ç¬¬ä¸‰æ–¹åº“
disallow_any_expr = false        # numpyè®¡ç®—
disallow_any_decorated = false
disallow_any_explicit = false

incremental = true
cache_dir = ".cache/mypy"
plugins = ["pydantic.mypy"]

exclude = ["build/", "dist/", ".venv/"]

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ”´ çº¢è‰²è­¦æˆ’åŒº - æœ€ä¸¥æ ¼
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[[tool.mypy.overrides]]
module = [
    "src.trading.*",
    "src.execution.*",
    "src.risk.*",
    "src.order.*",
    "src.position.*",
    "src.account.*",
    "src.broker.*",
    "src.gateway.*",
]
disallow_untyped_defs = true
disallow_untyped_calls = true
disallow_incomplete_defs = true
disallow_untyped_decorators = true
disallow_any_generics = true
disallow_any_unimported = true
warn_unreachable = true
warn_return_any = true

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ”´ å®¡è®¡æ—¥å¿— - æœ€ä¸¥æ ¼ï¼ˆä¸»å¸­ç‰¹åˆ«è¦æ±‚ï¼‰
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[[tool.mypy.overrides]]
module = [
    "src.audit.*",
    "src.logging.*",
]
disallow_untyped_defs = true
disallow_untyped_calls = true
disallow_incomplete_defs = true
disallow_untyped_decorators = true
disallow_any_generics = true
disallow_any_unimported = true
warn_unreachable = true
warn_return_any = true

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ”´ AIæ ¸å¿ƒ - ä¸¥æ ¼ä½†å…è®¸numpyçš„Anyï¼ˆå…¨ä¸­å›½æœ€å¼ºAIï¼‰
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[[tool.mypy.overrides]]
module = [
    "src.ai.*",
    "src.ml.*",
    "src.model.*",
    "src.feature.*",
    "src.prediction.*",
    "src.signal.*",
]
# ä¸¥æ ¼çš„å‡½æ•°ç­¾å
disallow_untyped_defs = true
disallow_untyped_calls = true
disallow_incomplete_defs = true
disallow_untyped_decorators = true
# è­¦å‘Š
warn_unreachable = true
warn_return_any = true  # AIæ¨¡å—ä¹Ÿè¦è­¦å‘Šè¿”å›Any
# æ”¾å®½numpy/torchçš„Any
disallow_any_expr = false
disallow_any_explicit = false
disallow_any_generics = false  # æ³›å‹å¦‚ndarray[Any, ...]

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸŸ  ç­–ç•¥è®¡ç®— - ä¸¥æ ¼
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[[tool.mypy.overrides]]
module = [
    "src.strategy.*",
    "src.backtesting.*",
    "src.data.*",
    "src.market.*",
    "src.optimization.*",
]
disallow_untyped_defs = true
disallow_untyped_calls = true
disallow_incomplete_defs = true
disallow_any_generics = true
warn_unreachable = true
warn_return_any = true

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸŸ  åˆ†ææ¨¡å— - ä¸¥æ ¼
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[[tool.mypy.overrides]]
module = [
    "src.analytics.*",
    "src.portfolio.*",
    "src.performance.*",
]
disallow_untyped_defs = true
disallow_untyped_calls = true
disallow_incomplete_defs = true
warn_unreachable = true
warn_return_any = true
# åˆ†æè®¡ç®—æ”¾å®½æ³›å‹
disallow_any_generics = false

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸŸ¡ é…ç½®å·¥å…· - æ ‡å‡†
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[[tool.mypy.overrides]]
module = [
    "src.config.*",
    "src.common.*",
    "src.utils.*",
    "src.app.*",
]
disallow_untyped_defs = true
disallow_incomplete_defs = true
warn_return_any = true
disallow_any_generics = false

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸŸ¡ å¯è§†åŒ– - æ ‡å‡†
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[[tool.mypy.overrides]]
module = [
    "src.visualization.*",
]
disallow_untyped_defs = true
disallow_incomplete_defs = true
warn_return_any = false  # ç»‘å›¾åº“è¿”å›ç±»å‹å¤æ‚
disallow_any_generics = false

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ”´ æµ‹è¯•ä»£ç  - é«˜è§„æ ¼ï¼ˆä¸»å¸­ç‰¹åˆ«è¦æ±‚ï¼‰
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[[tool.mypy.overrides]]
module = "tests.*"
# æµ‹è¯•å‡½æ•°éœ€è¦ç±»å‹ç­¾å
disallow_untyped_defs = true
disallow_incomplete_defs = true
# æ”¾å®½è£…é¥°å™¨ï¼ˆpytest fixturesï¼‰
disallow_untyped_decorators = false
# æ”¾å®½Anyï¼ˆmockå¯¹è±¡ï¼‰
disallow_any_expr = false
disallow_any_generics = false
# æ”¾å®½è­¦å‘Š
warn_return_any = false
warn_unreachable = false

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# âšª è„šæœ¬
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[[tool.mypy.overrides]]
module = "scripts.*"
disallow_untyped_defs = false
ignore_errors = false  # è„šæœ¬ä¹Ÿä¸èƒ½å®Œå…¨å¿½ç•¥

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ç¬¬ä¸‰æ–¹åº“
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[[tool.mypy.overrides]]
module = [
    "ctp", "ctp.*",
    "thostmduserapi.*", "thosttraderapi.*",
]
ignore_missing_imports = true
follow_imports = "skip"

[[tool.mypy.overrides]]
module = [
    "torch", "torch.*",
    "tensorflow", "tensorflow.*",
    "keras", "keras.*",
    "shap", "shap.*",
    "xgboost", "xgboost.*",
    "lightgbm", "lightgbm.*",
    "catboost", "catboost.*",
    "sklearn", "sklearn.*",
    "pandas_ta", "pandas_ta.*",
    "talib", "talib.*",
    "scipy", "scipy.*",
    "optuna", "optuna.*",
    "ray", "ray.*",
    "transformers", "transformers.*",
]
ignore_missing_imports = true

[tool.pydantic-mypy]
init_forbid_extra = true
init_typed = true
warn_required_dynamic_aliases = true
warn_untyped_fields = true

# =============================================================================
# ğŸ§ª Pytest - ä¸»å¸­çº§æµ‹è¯•é…ç½®
# =============================================================================
[tool.pytest.ini_options]
minversion = "7.0"
testpaths = ["tests"]
python_files = ["test_*.py", "*_test.py"]
python_classes = ["Test*"]
python_functions = ["test_*"]

addopts = [
    "--strict-markers",
    "--strict-config",
    
    # è¦†ç›–ç‡ï¼šæ•´ä½“90%
    "--cov=src",
    "--cov-branch",
    "--cov-report=term-missing",
    "--cov-report=html:reports/coverage",
    "--cov-report=xml:reports/coverage.xml",
    "--cov-fail-under=90",
    
    "-v",
    "--tb=short",
    "--showlocals",
    "--timeout=300",
    "--timeout_method=thread",
    
    # è­¦å‘Šä¸¥æ ¼
    "-W", "error::DeprecationWarning",
    "-W", "error::PendingDeprecationWarning",
    "-W", "error::FutureWarning",
    
    # æ—¥å¿—
    "--log-cli-level=INFO",
    "--log-cli-format=%(asctime)s [%(levelname)-8s] %(name)s: %(message)s",
    "--log-cli-date-format=%Y-%m-%d %H:%M:%S",
    "--log-file=logs/test.log",
    "--log-file-level=DEBUG",
    "--log-file-format=%(asctime)s [%(levelname)-8s] %(name)s:%(lineno)d: %(message)s",
]

markers = [
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # åŒºåŸŸæ ‡è®°
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    "red_zone: çº¢è‰²è­¦æˆ’åŒºæµ‹è¯•",
    "orange_zone: æ©™è‰²å…³é”®åŒºæµ‹è¯•",
    "yellow_zone: é»„è‰²æ ‡å‡†åŒºæµ‹è¯•",
    
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # å…³é”®è·¯å¾„æ ‡è®°
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    "critical_path: å…³é”®è·¯å¾„ï¼ˆèµ„é‡‘æµè½¬ï¼‰",
    "money_flow: èµ„é‡‘æµæµ‹è¯•",
    "order_flow: è®¢å•æµæµ‹è¯•",
    "risk_check: é£æ§æ£€æŸ¥æµ‹è¯•",
    "calculation: è®¡ç®—é€»è¾‘æµ‹è¯•",
    "audit_trail: å®¡è®¡è¿½è¸ªæµ‹è¯•",
    
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # AIæ¨¡å—æ ‡è®°ï¼ˆå…¨ä¸­å›½æœ€å¼ºAIï¼‰
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    "ai_core: AIæ ¸å¿ƒæµ‹è¯•",
    "ai_model: AIæ¨¡å‹æµ‹è¯•",
    "ai_feature: ç‰¹å¾å·¥ç¨‹æµ‹è¯•",
    "ai_prediction: é¢„æµ‹æµ‹è¯•",
    "ai_signal: ä¿¡å·ç”Ÿæˆæµ‹è¯•",
    "ai_training: è®­ç»ƒæµç¨‹æµ‹è¯•",
    "ai_inference: æ¨ç†æµ‹è¯•",
    "ai_data_pipeline: æ•°æ®ç®¡é“æµ‹è¯•",
    
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # æ¨¡å—æ ‡è®°
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    "trading: äº¤æ˜“æ¨¡å—",
    "execution: æ‰§è¡Œæ¨¡å—",
    "risk: é£æ§æ¨¡å—",
    "strategy: ç­–ç•¥æ¨¡å—",
    "data: æ•°æ®æ¨¡å—",
    "market: è¡Œæƒ…æ¨¡å—",
    "broker: ç»çºªå•†æ¨¡å—",
    "gateway: ç½‘å…³æ¨¡å—",
    "audit: å®¡è®¡æ¨¡å—",
    "logging: æ—¥å¿—æ¨¡å—",
    "order: è®¢å•æ¨¡å—",
    "position: æŒä»“æ¨¡å—",
    "account: è´¦æˆ·æ¨¡å—",
    "ai: AIæ¨¡å—",
    "ml: MLæ¨¡å—",
    "analytics: åˆ†ææ¨¡å—",
    "portfolio: ç»„åˆæ¨¡å—",
    "performance: ç»©æ•ˆæ¨¡å—",
    "optimization: ä¼˜åŒ–æ¨¡å—",
    "visualization: å¯è§†åŒ–æ¨¡å—",
    
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # ç±»å‹æ ‡è®°
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    "unit: å•å…ƒæµ‹è¯•",
    "integration: é›†æˆæµ‹è¯•",
    "e2e: ç«¯åˆ°ç«¯æµ‹è¯•",
    "smoke: å†’çƒŸæµ‹è¯•",
    "regression: å›å½’æµ‹è¯•",
    "stress: å‹åŠ›æµ‹è¯•",
    "benchmark: æ€§èƒ½åŸºå‡†æµ‹è¯•",
    
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # æ¨¡å¼æ ‡è®°
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    "live: å®ç›˜æµ‹è¯•",
    "paper: æ¨¡æ‹Ÿç›˜æµ‹è¯•",
    "backtest: å›æµ‹æµ‹è¯•",
    "simulation: ä»¿çœŸæµ‹è¯•",
    "replay: å›æ”¾æµ‹è¯•",
    
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # ç‰¹æ®Šæ ‡è®°
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    "slow: æ…¢é€Ÿæµ‹è¯•ï¼ˆ>5sï¼‰",
    "very_slow: éå¸¸æ…¢ï¼ˆ>60sï¼‰",
    "skip_ci: CIè·³è¿‡",
    "requires_ctp: éœ€è¦CTP SDK",
    "requires_gpu: éœ€è¦GPU",
    "requires_network: éœ€è¦ç½‘ç»œ",
    "requires_database: éœ€è¦æ•°æ®åº“",
    "destructive: ç ´åæ€§æµ‹è¯•",
    "flaky: ä¸ç¨³å®šæµ‹è¯•",
    "nightly: å¤œé—´æµ‹è¯•",
    "weekly: å‘¨æµ‹è¯•",
]

filterwarnings = [
    "error::DeprecationWarning",
    "error::PendingDeprecationWarning",
    "error::FutureWarning",
    "ignore::DeprecationWarning:pkg_resources.*",
    "ignore::DeprecationWarning:numpy.*",
    "ignore::DeprecationWarning:torch.*",
    "ignore::PendingDeprecationWarning:pandas.*",
    "ignore::FutureWarning:sklearn.*",
]

asyncio_mode = "auto"

# =============================================================================
# ğŸ“Š Coverage - ä¸»å¸­çº§è¦†ç›–ç‡é…ç½®
# =============================================================================
[tool.coverage.run]
source = ["src"]
branch = true
parallel = true
concurrency = ["thread", "multiprocessing"]
relative_files = true
data_file = ".coverage"
dynamic_context = "test_function"

omit = [
    "*/tests/*",
    "*/__pycache__/*",
    "src/app/*_entry.py",
    "*.pyi",
]

[tool.coverage.paths]
source = ["src/"]

[tool.coverage.report]
# æ•´ä½“90%ï¼ˆåˆ†å±‚é€šè¿‡CIè„šæœ¬å¼ºåˆ¶æ›´é«˜ï¼‰
fail_under = 90
precision = 2
show_missing = true
skip_covered = false
skip_empty = true

exclude_lines = [
    "pragma: no cover",
    "if TYPE_CHECKING:",
    "if typing.TYPE_CHECKING:",
    "@abstractmethod",
    "@abc.abstractmethod",
    "raise NotImplementedError",
    'if __name__ == "__main__":',
    "def __repr__",
    "def __str__",
    # ä»…ç”¨äºè°ƒè¯•
    "logger\\.debug",
]

[tool.coverage.html]
directory = "reports/coverage/html"
title = "cn-futures-auto-trader ä¸»å¸­çº§è¦†ç›–ç‡æŠ¥å‘Š"
show_contexts = true

[tool.coverage.xml]
output = "reports/coverage/coverage.xml"

[tool.coverage.json]
output = "reports/coverage/coverage.json"
pretty_print = true
show_contexts = true

# =============================================================================
# ğŸ”’ Bandit - å®‰å…¨æ‰«æï¼ˆä¸»å¸­çº§é›¶å®¹å¿ï¼‰
# =============================================================================
[tool.bandit]
exclude_dirs = ["tests", ".venv", "build", "dist"]
severity = "low"
confidence = "low"
# ä¸»å¸­çº§ï¼šä»…è·³è¿‡é˜²å¾¡æ€§assert
skips = ["B101"]

# =============================================================================
# ğŸ“– Interrogate - æ–‡æ¡£è¦†ç›–ç‡
# =============================================================================
[tool.interrogate]
ignore-init-method = true
ignore-init-module = true
ignore-magic = true
ignore-semiprivate = false
ignore-private = false
ignore-property-decorators = false
ignore-module = false
ignore-nested-functions = false
ignore-nested-classes = false
ignore-setters = false
# ä¸»å¸­çº§ï¼š90%æ–‡æ¡£è¦†ç›–
fail-under = 80
exclude = ["tests", "scripts", ".venv"]
verbose = 1
color = true

# =============================================================================
# ğŸ—ï¸ æ„å»ºç³»ç»Ÿ
# =============================================================================
[build-system]
requires = ["hatchling>=1.18"]
build-backend = "hatchling.build"

[tool.hatch.build]
exclude = [
    "/.github",
    "/.venv",
    "/tests",
    "/scripts",
    "/docs",
    "/reports",
    "/.cache",
]

[tool.hatch.build.targets.wheel]
packages = ["src"]

[tool.hatch.build.targets.sdist]
include = [
    "/src",
    "/tests",
    "/README.md",
    "/LICENSE",
    "/pyproject.toml",
]

# =============================================================================
# ğŸš€ ä¸»å¸­çº§æ£€æŸ¥è„šæœ¬
# =============================================================================
[tool.hatch.envs.default]
dependencies = [
    # æµ‹è¯•
    "pytest>=7.4",
    "pytest-cov>=4.1",
    "pytest-asyncio>=0.21",
    "pytest-timeout>=2.2",
    "pytest-xdist>=3.5",
    "pytest-benchmark>=4.0",
    "hypothesis>=6.90",
    
    # é™æ€åˆ†æ
    "mypy>=1.7",
    "ruff>=0.8.0",
    
    # å®‰å…¨
    "bandit>=1.7",
    
    # æ–‡æ¡£
    "interrogate>=1.5",
]

[tool.hatch.envs.default.scripts]
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# æ—¥å¸¸å¼€å‘
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
lint = "ruff check src tests --fix"
format = "ruff format src tests"
typecheck = "mypy src"
test = "pytest -x -q"
test-fast = "pytest -x -q --no-cov -m 'not slow'"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# æäº¤å‰æ£€æŸ¥
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
pre-commit = [
    "ruff check src --fix",
    "ruff format src",
    "mypy src --no-error-summary",
    "pytest -x -q --no-cov -m 'not slow'",
]

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ”´ çº¢è‰²è­¦æˆ’åŒºæ£€æŸ¥ï¼ˆ95%è¦†ç›–ç‡ï¼‰- èµ„é‡‘å®‰å…¨
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
red-zone = """
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
echo "ğŸ”´ çº¢è‰²è­¦æˆ’åŒºæ£€æŸ¥ï¼šäº¤æ˜“/æ‰§è¡Œ/é£æ§/è®¢å•/æŒä»“/èµ„é‡‘/ç½‘å…³" && \
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
ruff check src/trading src/execution src/risk src/order src/position src/account src/broker src/gateway --no-fix && \
echo "âœ“ Ruffæ£€æŸ¥é€šè¿‡" && \
mypy src/trading src/execution src/risk src/order src/position src/account src/broker src/gateway && \
echo "âœ“ MyPyæ£€æŸ¥é€šè¿‡" && \
pytest tests/trading tests/execution tests/risk tests/order tests/position tests/account tests/broker tests/gateway \
    -m "red_zone or trading or execution or risk or order or position or account or broker or gateway" \
    --cov=src/trading,src/execution,src/risk,src/order,src/position,src/account,src/broker,src/gateway \
    --cov-fail-under=95 \
    --cov-report=term-missing \
    -v && \
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
echo "âœ… çº¢è‰²è­¦æˆ’åŒºæ£€æŸ¥å…¨éƒ¨é€šè¿‡ï¼è¦†ç›–ç‡â‰¥95%" && \
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
"""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ”´ å®¡è®¡æ—¥å¿—æ£€æŸ¥ï¼ˆ95%è¦†ç›–ç‡ï¼‰- ä¸»å¸­ç‰¹åˆ«è¦æ±‚
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
audit-zone = """
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
echo "ğŸ”´ å®¡è®¡æ—¥å¿—æ£€æŸ¥ï¼šaudit/logging" && \
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
ruff check src/audit src/logging --no-fix && \
mypy src/audit src/logging && \
pytest tests/audit tests/logging \
    -m "audit or logging or audit_trail" \
    --cov=src/audit,src/logging \
    --cov-fail-under=95 \
    --cov-report=term-missing \
    -v && \
echo "âœ… å®¡è®¡æ—¥å¿—æ£€æŸ¥é€šè¿‡ï¼è¦†ç›–ç‡â‰¥95%"
"""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ”´ AIæ ¸å¿ƒæ£€æŸ¥ï¼ˆ93%è¦†ç›–ç‡ï¼‰- å…¨ä¸­å›½æœ€å¼ºAI
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ai-zone = """
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
echo "ğŸ”´ AIæ ¸å¿ƒæ£€æŸ¥ï¼šai/ml/model/feature/prediction/signal" && \
echo "   ğŸ¯ ç›®æ ‡ï¼šå…¨ä¸­å›½æœ€å¼ºAIæ¨¡å‹" && \
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
ruff check src/ai src/ml src/model src/feature src/prediction src/signal --no-fix && \
echo "âœ“ Ruffæ£€æŸ¥é€šè¿‡" && \
mypy src/ai src/ml src/model src/feature src/prediction src/signal && \
echo "âœ“ MyPyæ£€æŸ¥é€šè¿‡" && \
pytest tests/ai tests/ml tests/model tests/feature tests/prediction tests/signal \
    -m "ai or ml or ai_core or ai_model or ai_feature or ai_prediction or ai_signal or ai_training or ai_inference" \
    --cov=src/ai,src/ml,src/model,src/feature,src/prediction,src/signal \
    --cov-fail-under=93 \
    --cov-report=term-missing \
    -v && \
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
echo "âœ… AIæ ¸å¿ƒæ£€æŸ¥é€šè¿‡ï¼è¦†ç›–ç‡â‰¥93%" && \
echo "   ğŸ† å‘å…¨ä¸­å›½æœ€å¼ºAIè¿ˆè¿›ï¼" && \
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
"""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸŸ  ç­–ç•¥è®¡ç®—æ£€æŸ¥ï¼ˆ90%è¦†ç›–ç‡ï¼‰
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
strategy-zone = """
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
echo "ğŸŸ  ç­–ç•¥è®¡ç®—æ£€æŸ¥ï¼šstrategy/backtesting/data/market/optimization" && \
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
ruff check src/strategy src/backtesting src/data src/market src/optimization --no-fix && \
mypy src/strategy src/backtesting src/data src/market src/optimization && \
pytest tests/strategy tests/backtesting tests/data tests/market tests/optimization \
    -m "strategy or backtesting or data or market or optimization or calculation" \
    --cov=src/strategy,src/backtesting,src/data,src/market,src/optimization \
    --cov-fail-under=90 \
    --cov-report=term-missing \
    -v && \
echo "âœ… ç­–ç•¥è®¡ç®—æ£€æŸ¥é€šè¿‡ï¼è¦†ç›–ç‡â‰¥90%"
"""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸŸ  åˆ†ææ¨¡å—æ£€æŸ¥ï¼ˆ90%è¦†ç›–ç‡ï¼‰
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
analytics-zone = """
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
echo "ğŸŸ  åˆ†ææ¨¡å—æ£€æŸ¥ï¼šanalytics/portfolio/performance" && \
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
ruff check src/analytics src/portfolio src/performance --no-fix && \
mypy src/analytics src/portfolio src/performance && \
pytest tests/analytics tests/portfolio tests/performance \
    -m "analytics or portfolio or performance" \
    --cov=src/analytics,src/portfolio,src/performance \
    --cov-fail-under=90 \
    --cov-report=term-missing \
    -v && \
echo "âœ… åˆ†ææ¨¡å—æ£€æŸ¥é€šè¿‡ï¼è¦†ç›–ç‡â‰¥90%"
"""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸŸ¡ åŸºç¡€è®¾æ–½æ£€æŸ¥ï¼ˆ85%è¦†ç›–ç‡ï¼‰
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
infra-zone = """
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
echo "ğŸŸ¡ åŸºç¡€è®¾æ–½æ£€æŸ¥ï¼šconfig/common/utils/app/visualization" && \
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
ruff check src/config src/common src/utils src/app src/visualization --no-fix && \
mypy src/config src/common src/utils src/app src/visualization && \
pytest tests/config tests/common tests/utils tests/app tests/visualization \
    --cov=src/config,src/common,src/utils,src/app,src/visualization \
    --cov-fail-under=85 \
    --cov-report=term-missing \
    -v && \
echo "âœ… åŸºç¡€è®¾æ–½æ£€æŸ¥é€šè¿‡ï¼è¦†ç›–ç‡â‰¥85%"
"""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ” å®‰å…¨æ‰«æ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
security = """
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
echo "ğŸ” å®‰å…¨æ‰«æ" && \
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
bandit -r src -ll -ii && \
echo "âœ… å®‰å…¨æ‰«æé€šè¿‡"
"""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ“– æ–‡æ¡£è¦†ç›–ç‡æ£€æŸ¥
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
docs-check = """
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
echo "ğŸ“– æ–‡æ¡£è¦†ç›–ç‡æ£€æŸ¥" && \
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
interrogate src -vv --fail-under=80 && \
echo "âœ… æ–‡æ¡£è¦†ç›–ç‡â‰¥90%"
"""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ”´ å…³é”®è·¯å¾„æµ‹è¯•ï¼ˆèµ„é‡‘æµè½¬å¿…é¡»100%é€šè¿‡ï¼‰
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
critical-path = """
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
echo "ğŸ”´ å…³é”®è·¯å¾„æµ‹è¯•ï¼šèµ„é‡‘æµè½¬/è®¢å•æµ/é£æ§æ£€æŸ¥" && \
echo "   âš ï¸  è¿™äº›æµ‹è¯•å¿…é¡»100%é€šè¿‡ï¼Œå¦åˆ™ç¦æ­¢å‘å¸ƒï¼" && \
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
pytest -m "critical_path or money_flow or order_flow or risk_check" \
    -v --tb=long -x && \
echo "âœ… å…³é”®è·¯å¾„æµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼"
"""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ”´ è®¡ç®—é€»è¾‘æµ‹è¯•ï¼ˆæ•°å€¼ç²¾åº¦å¿…é¡»æ­£ç¡®ï¼‰
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
calculation-test = """
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
echo "ğŸ”´ è®¡ç®—é€»è¾‘æµ‹è¯•ï¼šä¿è¯é‡‘/ç›ˆäº/æ‰‹ç»­è´¹/æ»‘ç‚¹" && \
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
pytest -m "calculation" -v --tb=long -x && \
echo "âœ… è®¡ç®—é€»è¾‘æµ‹è¯•é€šè¿‡ï¼"
"""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ¯ CIå®Œæ•´æ£€æŸ¥
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ci = """
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
echo "ğŸ¯ CIå®Œæ•´æ£€æŸ¥" && \
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
ruff check src tests --no-fix --output-format=github && \
mypy src && \
bandit -r src -ll && \
pytest --cov-fail-under=90 && \
echo "âœ… CIæ£€æŸ¥å…¨éƒ¨é€šè¿‡ï¼"
"""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ‘‘ ä¸»å¸­çº§å®Œæ•´æ£€æŸ¥ï¼ˆå‘å¸ƒå‰å¿…é¡»é€šè¿‡ï¼‰
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
chairman = """
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
echo "ğŸ‘‘ ä¸»å¸­çº§å®Œæ•´æ£€æŸ¥" && \
echo "   ğŸ“‹ æ£€æŸ¥é¡¹ç›®ï¼š" && \
echo "      1. Ruffé™æ€åˆ†æ" && \
echo "      2. MyPyç±»å‹æ£€æŸ¥" && \
echo "      3. å®‰å…¨æ‰«æ" && \
echo "      4. æ–‡æ¡£è¦†ç›–ç‡" && \
echo "      5. å…³é”®è·¯å¾„æµ‹è¯•" && \
echo "      6. åˆ†å±‚è¦†ç›–ç‡æµ‹è¯•" && \
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
echo "" && \
echo "ğŸ“Œ Step 1/6: Ruffé™æ€åˆ†æ..." && \
ruff check src tests --no-fix && \
echo "âœ“ Ruffé€šè¿‡" && \
echo "" && \
echo "ğŸ“Œ Step 2/6: MyPyç±»å‹æ£€æŸ¥..." && \
mypy src && \
echo "âœ“ MyPyé€šè¿‡" && \
echo "" && \
echo "ğŸ“Œ Step 3/6: å®‰å…¨æ‰«æ..." && \
bandit -r src -ll && \
echo "âœ“ å®‰å…¨æ‰«æé€šè¿‡" && \
echo "" && \
echo "ğŸ“Œ Step 4/6: æ–‡æ¡£è¦†ç›–ç‡..." && \
interrogate src --fail-under=80 && \
echo "âœ“ æ–‡æ¡£è¦†ç›–ç‡â‰¥80%" && \
echo "" && \
echo "ğŸ“Œ Step 5/6: å…³é”®è·¯å¾„æµ‹è¯•..." && \
pytest -m "critical_path or money_flow or order_flow or risk_check" -v -x && \
echo "âœ“ å…³é”®è·¯å¾„100%é€šè¿‡" && \
echo "" && \
echo "ğŸ“Œ Step 6/6: å®Œæ•´æµ‹è¯•ï¼ˆ90%è¦†ç›–ç‡ï¼‰..." && \
pytest --cov-fail-under=90 -v && \
echo "" && \
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
echo "ğŸ‘‘ ä¸»å¸­çº§æ£€æŸ¥å…¨éƒ¨é€šè¿‡ï¼å¯ä»¥å‘å¸ƒï¼" && \
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
"""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ† å…¨é‡åˆ†å±‚æ£€æŸ¥ï¼ˆæœ€å®Œæ•´ï¼‰
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
full-check = """
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
echo "ğŸ† å…¨é‡åˆ†å±‚æ£€æŸ¥" && \
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
hatch run red-zone && \
hatch run audit-zone && \
hatch run ai-zone && \
hatch run strategy-zone && \
hatch run analytics-zone && \
hatch run infra-zone && \
hatch run security && \
hatch run docs-check && \
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
echo "ğŸ† å…¨é‡åˆ†å±‚æ£€æŸ¥å®Œæˆï¼" && \
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
"""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ§¹ æ¸…ç†
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
clean = """
rm -rf .cache .coverage .coverage.* .mypy_cache .pytest_cache .ruff_cache \
    reports htmlcov *.egg-info build dist __pycache__ \
    .hypothesis .benchmarks
echo "âœ“ æ¸…ç†å®Œæˆ"
"""

# =============================================================================
# ğŸ“‹ Commitizen - æäº¤è§„èŒƒ
# =============================================================================
[tool.commitizen]
name = "cz_conventional_commits"
version = "0.4.0"
version_files = [
    "pyproject.toml:version",
    "src/__init__.py:__version__",
]
tag_format = "v$version"
update_changelog_on_bump = true
changelog_incremental = true

# =============================================================================
# ğŸ“ Towncrier - å˜æ›´æ—¥å¿—
# =============================================================================
[tool.towncrier]
package = "src"
package_dir = "."
filename = "CHANGELOG.md"
directory = "changes/"
title_format = "## [{version}] - {project_date}"

[[tool.towncrier.type]]
directory = "breaking"
name = "âš ï¸ Breaking Changes"
showcontent = true

[[tool.towncrier.type]]
directory = "security"
name = "ğŸ”’ Security"
showcontent = true

[[tool.towncrier.type]]
directory = "feature"
name = "âœ¨ Features"
showcontent = true

[[tool.towncrier.type]]
directory = "ai"
name = "ğŸ¤– AI Improvements"
showcontent = true

[[tool.towncrier.type]]
directory = "bugfix"
name = "ğŸ› Bug Fixes"
showcontent = true

[[tool.towncrier.type]]
directory = "performance"
name = "âš¡ Performance"
showcontent = true

[[tool.towncrier.type]]
directory = "doc"
name = "ğŸ“š Documentation"
showcontent = true

[[tool.towncrier.type]]
directory = "deprecation"
name = "ğŸ—‘ï¸ Deprecations"
showcontent = true

[[tool.towncrier.type]]
directory = "misc"
name = "ğŸ“¦ Miscellaneous"
showcontent = false


