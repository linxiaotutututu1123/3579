# 持续集成工作流

> **类型**: 辅助工作流 | **等级**: SUPREME

```yaml
工作流: CICDWorkflow
参与Agent: DevOps大师, 测试工程师, 安全审计师
触发条件: 代码提交/定时触发
```

## 流水线

```
[代码拉取] → [依赖安装] → [单元测试] → [集成测试] → [安全扫描]
    ↓
[构建打包] → [镜像构建] → [部署预发] → [验收测试] → [生产部署]
```

## 流水线配置

```python
PIPELINE_STAGES = {
    "build": {
        "lint": "代码规范检查",
        "test": "单元测试+集成测试",
        "security": "安全扫描",
        "package": "构建打包",
    },
    "deploy": {
        "staging": "预发环境部署",
        "acceptance": "验收测试",
        "production": "生产环境部署",
        "rollback": "回滚机制",
    },
}

QUALITY_GATES = {
    "测试覆盖率": "≥95%",
    "安全扫描": "无高危漏洞",
    "验收测试": "100%通过",
}
```
